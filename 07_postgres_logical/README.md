# Работа с базами данных, пользователями и правами

## Цель:
- создание новой базы данных, схемы и таблицы
- создание роли для чтения данных из созданной схемы созданной базы данных
- создание роли для чтения и записи из созданной схемы созданной базы данных

16. Не удалось выполнить **SELECT * FROM t1;** т.к. эта таблица была создана в схеме **public**, а не в схеме **testnm**.  
    При создании таблицы следовало указать конкретную схему, либо поправить **search_path**, чтобы первым в списке была схема testnm.  
    Чтобы появился доступ к таблице **t1** я решил попробовать переместить ее в схему **testnm**, но получил ошибку, что нет доступа, хотя ранее он на схему был предоставлен.  
    Когда выполнил повторно команду назначения прав на схему, то ошибка пропала, выборка сработала. Далее, когда вернул таблицу в схему **public**, то выборка продолжала работать!!  
    Видимо, права остаются на таблице, несмотря на то, что она перемещается в другую схему.

35. Это трандец! На проде сейчас своим рид онли юзером создал таблицу в паблик схеме, оххх, расскажу коллегам))

37. Сам не догадался, выполнил по шпаргалке команды.
> revoke CREATE on SCHEMA public FROM public;

Команда отзывает права на создание в схеме **public** для роли **public** к которой относится по дефолту пользователь **testread**
> revoke all on DATABASE testdb FROM public;

Команда отзывает все права на базу данных **testdb** для роли **public** к которой относится по дефолту пользователь **testread**

39. Судя по всему, инсерт в t3 должен делаться, а не в t2. Новая таблица и инсерт в не не сработали. Инсерт в t2 сработал.  